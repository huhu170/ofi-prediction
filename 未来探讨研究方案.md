 强化学习扩展（可选）
> 深度强化学习(DQN)用于策略优化，可建模交易成本和滑点
 
 
 VAR + 神经网络混合方案解释
这是一个两阶段建模策略：
原始数据    │    ▼┌──────────────┐│  阶段1: VAR   │  ← 捕捉线性结构│  提取残差     │└──────────────┘    │    ▼残差 = 实际值 - VAR预测值  ← 残差包含VAR无法解释的非线性部分    │    ▼┌──────────────┐│ 阶段2: 神经网络│  ← 学习非线性残差模式└──────────────┘    │    ▼最终预测 = VAR预测 + 神经网络预测
> VAR简单高效，能解释大部分线性关系
> 神经网络专注学习剩余的非线性模式,不浪费算力在简单关系上
> 类似于"先做粗活，再做细活"

 OFI市值归一化解释
 传统做法：用成交量归一化
ofi_normalized = ofi / rolling_volume
缺点：成交量本身波动大，今天成交量是昨天的3倍，归一化后信号失真
最新研究建议：用市值归一化
ofi_normalized = ofi / market_cap  # 市值相对稳定
优点：市值变化缓慢，归一化更稳定，信号质量提升1.32-1.97倍

市场状态检测（HMM）详解
目的：不同市场状态下，OFI的含义可能不同
状态	特征	OFI信号含义
平稳期	低波动、高流动性	OFI正常反映供需
波动期	高波动、低流动性	OFI可能被噪声污染
恐慌期	极端波动、流动性枯竭	OFI信号失真
HMM（隐马尔可夫模型）检测：
              观测序列（可见）                  ↓时间: t=1    t=2    t=3    t=4    t=5观测:  高波动  高波动  低波动  低波动  高波动         ↑       ↑       ↑       ↑       ↑         |       |       |       |       |隐状态:  波动   波动    平稳    平稳    波动  ← HMM推断出的隐状态
实现步骤：
from hmmlearn import hmm# 1. 准备观测特征（波动率、流动性等）observations = np.column_stack([    df['return_std_10'],      # 波动率    df['spread_bps'],         # 流动性代理    df['trade_count']         # 成交活跃度])# 2. 训练HMMmodel = hmm.GaussianHMM(n_components=3, covariance_type="full")model.fit(observations)# 3. 推断当前状态regime = model.predict(observations)# regime: 0=平稳, 1=波动, 2=恐慌# 4. 将状态作为特征df['market_regime'] = regime
如何使用状态信息：
作为特征输入模型
features = [..., 'market_regime']  # 添加到特征列表
分状态训练不同模型
model_calm = train(data[regime == 0])model_volatile = train(data[regime == 1])
动态调整信号权重
if regime == '恐慌':    ofi_weight = 0.5  # 降低OFI权重，可能失真else:    ofi_weight = 1.0
对你论文的建议：这是一个高级优化，可以作为"未来研究方向"提及，或在第四章稳健性检验中分组比较平稳期vs波动期的模型表现（你论文已经有这个设计